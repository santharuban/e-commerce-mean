{"ast":null,"code":"import { UpdateComponent } from \"../update/update.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/admin.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"../service/cart.service\";\nexport class ViewEditProductComponent {\n  constructor(admin, router, toastrService, dialog, cart) {\n    this.admin = admin;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.dialog = dialog;\n    this.cart = cart;\n    this.page = 11;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe(res => {\n      this.items = res.data;\n      console.log(res.data);\n    });\n  }\n  onSubmit(deleteproduct) {\n    this.admin.deleteProducts(deleteproduct).subscribe(res => {\n      this.toastrService.info(\"product is deleted\");\n      this.getProducts();\n    }, error => {\n      this.toastrService.error(`${error.name} error ${error.status}`);\n    });\n    this.getProducts();\n  }\n  updateSubmit(data) {\n    localStorage.setItem(\"id\", data);\n    this.dialog.open(UpdateComponent).afterClosed().subscribe(() => {\n      this.getProducts();\n    });\n  }\n}\nViewEditProductComponent.ɵfac = function ViewEditProductComponent_Factory(t) {\n  return new (t || ViewEditProductComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.CartService));\n};\nViewEditProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewEditProductComponent,\n  selectors: [[\"app-view-edit-product\"]],\n  decls: 0,\n  vars: 0,\n  template: function ViewEditProductComponent_Template(rf, ctx) {},\n  styles: [\".container[_ngcontent-%COMP%] {\\n  padding-top: 150px;\\n  padding-bottom: 150px;\\n  background-color: #ccc;\\n}\\n\\n#class[_ngcontent-%COMP%] {\\n  background-color: #deebdd;\\n}\\n\\n.back[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 130px;\\n  margin-left: 15px;\\n  border-radius: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlldy1lZGl0LXByb2R1Y3Qvdmlldy1lZGl0LXByb2R1Y3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFVBQVU7RUFDVixpQkFBaUI7RUFDakIsbUJBQW1CO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XG4gIHBhZGRpbmctdG9wOiAxNTBweDtcbiAgcGFkZGluZy1ib3R0b206IDE1MHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xufVxuXG4jY2xhc3Mge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGVlYmRkO1xufVxuXG4uYmFjayB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAxMzBweDtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDMwcHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAMA,SAASA,eAAe,QAAQ,4BAA4B;;;;;;;AAU5D,OAAM,MAAOC,wBAAwB;EAGnCC,YACUC,KAAmB,EACnBC,MAAc,EACdC,aAA4B,EAC7BC,MAAiB,EAChBC,IAAiB;IAJjB,UAAK,GAALJ,KAAK;IACL,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IACd,WAAM,GAANC,MAAM;IACL,SAAI,GAAJC,IAAI;IANd,SAAI,GAAQ,EAAE;EAOX;EACHC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EACAA,WAAW;IACT,IAAI,CAACN,KAAK,CAACM,WAAW,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MACzC,IAAI,CAACC,KAAK,GAAGD,GAAG,CAACE,IAAI;MACrBC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAACE,IAAI,CAAC;IACvB,CAAC,CAAC;EAEJ;EACAG,QAAQ,CAACC,aAAqB;IAC5B,IAAI,CAACd,KAAK,CAACe,cAAc,CAACD,aAAa,CAAC,CAACP,SAAS,CAC/CC,GAAG,IAAI;MACN,IAAI,CAACN,aAAa,CAACc,IAAI,CAAC,oBAAoB,CAAC;MAC7C,IAAI,CAACV,WAAW,EAAE;IACpB,CAAC,EACAW,KAAK,IAAI;MACR,IAAI,CAACf,aAAa,CAACe,KAAK,CAAC,GAAGA,KAAK,CAACC,IAAI,UAAUD,KAAK,CAACE,MAAM,EAAE,CAAC;IACjE,CAAC,CACF;IACD,IAAI,CAACb,WAAW,EAAE;EACpB;EACAc,YAAY,CAACV,IAAS;IACpBW,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEZ,IAAI,CAAC;IAChC,IAAI,CAACP,MAAM,CACRoB,IAAI,CAAC1B,eAAe,CAAC,CACrB2B,WAAW,EAAE,CACbjB,SAAS,CAAC,MAAK;MACd,IAAI,CAACD,WAAW,EAAE;IACpB,CAAC,CAAC;EACN;;AAxCWR,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;AAAA","names":["UpdateComponent","ViewEditProductComponent","constructor","admin","router","toastrService","dialog","cart","ngOnInit","getProducts","subscribe","res","items","data","console","log","onSubmit","deleteproduct","deleteProducts","info","error","name","status","updateSubmit","localStorage","setItem","open","afterClosed","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["/home/asplap3259/Desktop/e-commerce-mean/frontend/src/app/view-edit-product/view-edit-product.component.ts"],"sourcesContent":["import { Component, OnChanges, OnInit,ViewChild } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { products } from \"datatype\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { AdminService } from \"../service/admin.service\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { UpdateComponent } from \"../update/update.component\";\nimport { CartService } from \"../service/cart.service\";\n\n\n\n@Component({\n  selector: \"app-view-edit-product\",\n  templateUrl: \"./view-edit-product.component.html\",\n  styleUrls: [\"./view-edit-product.component.css\"],\n})\nexport class ViewEditProductComponent implements OnInit {\n  public items!: products[];\n  page:number=11;\n  constructor(\n    private admin: AdminService,\n    private router: Router,\n    private toastrService: ToastrService,\n    public dialog: MatDialog,\n    private cart: CartService,\n  ) {}\n  ngOnInit(): void {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe((res) => {\n      this.items = res.data;\n      console.log(res.data)\n    });\n    \n  }\n  onSubmit(deleteproduct: number) {\n    this.admin.deleteProducts(deleteproduct).subscribe(\n      (res) => {\n        this.toastrService.info(\"product is deleted\");\n        this.getProducts();\n      },\n      (error) => {\n        this.toastrService.error(`${error.name} error ${error.status}`);\n      }\n    );\n    this.getProducts();\n  }\n  updateSubmit(data: any) {\n    localStorage.setItem(\"id\", data);\n    this.dialog\n      .open(UpdateComponent)\n      .afterClosed()\n      .subscribe(() => {\n        this.getProducts();\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}