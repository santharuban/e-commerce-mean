{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, ViewChild } from \"@angular/core\";\nimport { UpdateComponent } from \"../update/update.component\";\nlet ViewEditProductComponent = class ViewEditProductComponent {\n  constructor(admin, router, toastrService, dialog, cart, pagg) {\n    this.admin = admin;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.dialog = dialog;\n    this.cart = cart;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe(res => {\n      this.items = res;\n    });\n  }\n  onSubmit(deleteproduct) {\n    this.admin.deleteProducts(deleteproduct).subscribe(res => {\n      this.toastrService.info(\"product is deleted\");\n      this.getProducts();\n    }, error => {\n      this.toastrService.error(`${error.name} error ${error.status}`);\n    });\n    this.getProducts();\n  }\n  updateSubmit(data) {\n    localStorage.setItem(\"id\", data);\n    this.dialog.open(UpdateComponent).afterClosed().subscribe(() => {\n      this.getProducts();\n    });\n  }\n};\nViewEditProductComponent = __decorate([Component({\n  selector: \"app-view-edit-product\",\n  templateUrl: \"./view-edit-product.component.html\",\n  styleUrls: [\"./view-edit-product.component.css\"]\n}), __param(5, ViewChild('paginator'))], ViewEditProductComponent);\nexport { ViewEditProductComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAoBC,SAAS,QAAQ,eAAe;AAMtE,SAASC,eAAe,QAAQ,4BAA4B;AAUrD,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAEnCC,YACUC,KAAmB,EACnBC,MAAc,EACdC,aAA4B,EAC7BC,MAAiB,EAChBC,IAAiB,EACDC,IAAI;IALpB,UAAK,GAALL,KAAK;IACL,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IACd,WAAM,GAANC,MAAM;IACL,SAAI,GAAJC,IAAI;EAEX;EACHE,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EACAA,WAAW;IACT,IAAI,CAACP,KAAK,CAACO,WAAW,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MACzC,IAAI,CAACC,KAAK,GAAGD,GAAG;IAClB,CAAC,CAAC;EACJ;EACAE,QAAQ,CAACC,aAAqB;IAC5B,IAAI,CAACZ,KAAK,CAACa,cAAc,CAACD,aAAa,CAAC,CAACJ,SAAS,CAC/CC,GAAG,IAAI;MACN,IAAI,CAACP,aAAa,CAACY,IAAI,CAAC,oBAAoB,CAAC;MAC7C,IAAI,CAACP,WAAW,EAAE;IACpB,CAAC,EACAQ,KAAK,IAAI;MACR,IAAI,CAACb,aAAa,CAACa,KAAK,CAAC,GAAGA,KAAK,CAACC,IAAI,UAAUD,KAAK,CAACE,MAAM,EAAE,CAAC;IACjE,CAAC,CACF;IACD,IAAI,CAACV,WAAW,EAAE;EACpB;EACAW,YAAY,CAACC,IAAS;IACpBC,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEF,IAAI,CAAC;IAChC,IAAI,CAAChB,MAAM,CACRmB,IAAI,CAACzB,eAAe,CAAC,CACrB0B,WAAW,EAAE,CACbf,SAAS,CAAC,MAAK;MACd,IAAI,CAACD,WAAW,EAAE;IACpB,CAAC,CAAC;EACN;CACD;AAvCYT,wBAAwB,eALpCH,SAAS,CAAC;EACT6B,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,EASGC,oBAAS,CAAC,WAAW,CAAC,IARd7B,wBAAwB,CAuCpC;SAvCYA,wBAAwB","names":["Component","ViewChild","UpdateComponent","ViewEditProductComponent","constructor","admin","router","toastrService","dialog","cart","pagg","ngOnInit","getProducts","subscribe","res","items","onSubmit","deleteproduct","deleteProducts","info","error","name","status","updateSubmit","data","localStorage","setItem","open","afterClosed","selector","templateUrl","styleUrls","__param"],"sourceRoot":"","sources":["/home/asplap3259/Desktop/e-commerce-mean/frontend/src/app/view-edit-product/view-edit-product.component.ts"],"sourcesContent":["import { Component, OnChanges, OnInit,ViewChild } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { products } from \"datatype\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { AdminService } from \"../service/admin.service\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { UpdateComponent } from \"../update/update.component\";\nimport { CartService } from \"../service/cart.service\";\nimport { MatPaginator } from \"@angular/material/paginator\";\n\n\n@Component({\n  selector: \"app-view-edit-product\",\n  templateUrl: \"./view-edit-product.component.html\",\n  styleUrls: [\"./view-edit-product.component.css\"],\n})\nexport class ViewEditProductComponent implements OnInit {\n  public items!: products[];\n  constructor(\n    private admin: AdminService,\n    private router: Router,\n    private toastrService: ToastrService,\n    public dialog: MatDialog,\n    private cart: CartService,\n    @ViewChild('paginator') pagg\n  ) {}\n  ngOnInit(): void {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe((res) => {\n      this.items = res;\n    });\n  }\n  onSubmit(deleteproduct: number) {\n    this.admin.deleteProducts(deleteproduct).subscribe(\n      (res) => {\n        this.toastrService.info(\"product is deleted\");\n        this.getProducts();\n      },\n      (error) => {\n        this.toastrService.error(`${error.name} error ${error.status}`);\n      }\n    );\n    this.getProducts();\n  }\n  updateSubmit(data: any) {\n    localStorage.setItem(\"id\", data);\n    this.dialog\n      .open(UpdateComponent)\n      .afterClosed()\n      .subscribe(() => {\n        this.getProducts();\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}