{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { UpdateComponent } from \"../update/update.component\";\nlet ViewEditProductComponent = class ViewEditProductComponent {\n  constructor(admin, router, toastrService, dialog, cart) {\n    this.admin = admin;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.dialog = dialog;\n    this.cart = cart;\n    this.page = 11;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe(res => {\n      this.items = res.data;\n      console.log(res.data);\n    });\n  }\n  onSubmit(deleteproduct) {\n    this.admin.deleteProducts(deleteproduct).subscribe(res => {\n      this.toastrService.info(\"product is deleted\");\n      this.getProducts();\n    }, error => {\n      this.toastrService.error(`${error.name} error ${error.status}`);\n    });\n    this.getProducts();\n  }\n  updateSubmit(data) {\n    localStorage.setItem(\"id\", data);\n    this.dialog.open(UpdateComponent).afterClosed().subscribe(() => {\n      this.getProducts();\n    });\n  }\n};\nViewEditProductComponent = __decorate([Component({\n  selector: \"app-view-edit-product\",\n  templateUrl: \"./view-edit-product.component.html\",\n  styleUrls: [\"./view-edit-product.component.css\"]\n})], ViewEditProductComponent);\nexport { ViewEditProductComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAqC,eAAe;AAMtE,SAASC,eAAe,QAAQ,4BAA4B;AAUrD,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAGnCC,YACUC,KAAmB,EACnBC,MAAc,EACdC,aAA4B,EAC7BC,MAAiB,EAChBC,IAAiB;IAJjB,UAAK,GAALJ,KAAK;IACL,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IACd,WAAM,GAANC,MAAM;IACL,SAAI,GAAJC,IAAI;IANd,SAAI,GAAQ,EAAE;EAOX;EACHC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EACAA,WAAW;IACT,IAAI,CAACN,KAAK,CAACM,WAAW,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MACzC,IAAI,CAACC,KAAK,GAAGD,GAAG,CAACE,IAAI;MACrBC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAACE,IAAI,CAAC;IACvB,CAAC,CAAC;EAEJ;EACAG,QAAQ,CAACC,aAAqB;IAC5B,IAAI,CAACd,KAAK,CAACe,cAAc,CAACD,aAAa,CAAC,CAACP,SAAS,CAC/CC,GAAG,IAAI;MACN,IAAI,CAACN,aAAa,CAACc,IAAI,CAAC,oBAAoB,CAAC;MAC7C,IAAI,CAACV,WAAW,EAAE;IACpB,CAAC,EACAW,KAAK,IAAI;MACR,IAAI,CAACf,aAAa,CAACe,KAAK,CAAC,GAAGA,KAAK,CAACC,IAAI,UAAUD,KAAK,CAACE,MAAM,EAAE,CAAC;IACjE,CAAC,CACF;IACD,IAAI,CAACb,WAAW,EAAE;EACpB;EACAc,YAAY,CAACV,IAAS;IACpBW,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEZ,IAAI,CAAC;IAChC,IAAI,CAACP,MAAM,CACRoB,IAAI,CAAC1B,eAAe,CAAC,CACrB2B,WAAW,EAAE,CACbjB,SAAS,CAAC,MAAK;MACd,IAAI,CAACD,WAAW,EAAE;IACpB,CAAC,CAAC;EACN;CACD;AAzCYR,wBAAwB,eALpCF,SAAS,CAAC;EACT6B,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,GACW7B,wBAAwB,CAyCpC;SAzCYA,wBAAwB","names":["Component","UpdateComponent","ViewEditProductComponent","constructor","admin","router","toastrService","dialog","cart","ngOnInit","getProducts","subscribe","res","items","data","console","log","onSubmit","deleteproduct","deleteProducts","info","error","name","status","updateSubmit","localStorage","setItem","open","afterClosed","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/asplap3259/Desktop/e-commerce-mean/frontend/src/app/view-edit-product/view-edit-product.component.ts"],"sourcesContent":["import { Component, OnChanges, OnInit,ViewChild } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { products } from \"datatype\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { AdminService } from \"../service/admin.service\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { UpdateComponent } from \"../update/update.component\";\nimport { CartService } from \"../service/cart.service\";\n\n\n\n@Component({\n  selector: \"app-view-edit-product\",\n  templateUrl: \"./view-edit-product.component.html\",\n  styleUrls: [\"./view-edit-product.component.css\"],\n})\nexport class ViewEditProductComponent implements OnInit {\n  public items!: products[];\n  page:number=11;\n  constructor(\n    private admin: AdminService,\n    private router: Router,\n    private toastrService: ToastrService,\n    public dialog: MatDialog,\n    private cart: CartService,\n  ) {}\n  ngOnInit(): void {\n    this.getProducts();\n  }\n  getProducts() {\n    this.admin.getProducts().subscribe((res) => {\n      this.items = res.data;\n      console.log(res.data)\n    });\n    \n  }\n  onSubmit(deleteproduct: number) {\n    this.admin.deleteProducts(deleteproduct).subscribe(\n      (res) => {\n        this.toastrService.info(\"product is deleted\");\n        this.getProducts();\n      },\n      (error) => {\n        this.toastrService.error(`${error.name} error ${error.status}`);\n      }\n    );\n    this.getProducts();\n  }\n  updateSubmit(data: any) {\n    localStorage.setItem(\"id\", data);\n    this.dialog\n      .open(UpdateComponent)\n      .afterClosed()\n      .subscribe(() => {\n        this.getProducts();\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}