{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet ProductsComponent = class ProductsComponent {\n  constructor(data, cart, router, toastrService) {\n    this.data = data;\n    this.cart = cart;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.searchKey = \"\";\n    this.page = 1;\n  }\n  ngOnInit() {\n    this.filter(\"\");\n  }\n  addCart(item) {\n    this.cart.addCart(item);\n  }\n  filter(category) {\n    this.data.getProducts(category).subscribe(res => {\n      this.productList = res;\n      this.filterCategory = res;\n      this.productList.forEach(item => {\n        Object.assign(item, {\n          quantity: 1,\n          total: item.price\n        });\n      });\n      this.cart.search.subscribe(value => {\n        this.searchKey = value;\n      });\n    }, error => {\n      this.toastrService.error(`${error.name} error ${error.status}`);\n    });\n  }\n};\nProductsComponent = __decorate([Component({\n  selector: \"app-products\",\n  templateUrl: \"./products.component.html\",\n  styleUrls: [\"./products.component.css\"]\n})], ProductsComponent);\nexport { ProductsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAc1C,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAM5BC,YACUC,IAAiB,EACjBC,IAAiB,EACjBC,MAAc,EACdC,aAA4B;IAH5B,SAAI,GAAJH,IAAI;IACJ,SAAI,GAAJC,IAAI;IACJ,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IAPvB,cAAS,GAAW,EAAE;IAEtB,SAAI,GAAQ,CAAC;EAMV;EACHC,QAAQ;IACN,IAAI,CAACC,MAAM,CAAC,EAAE,CAAC;EACjB;EACAC,OAAO,CAACC,IAAc;IACpB,IAAI,CAACN,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;EACzB;EACAF,MAAM,CAACG,QAAgB;IACrB,IAAI,CAACR,IAAI,CAACS,WAAW,CAACD,QAAQ,CAAC,CAACE,SAAS,CACtCC,GAAG,IAAI;MACN,IAAI,CAACC,WAAW,GAAGD,GAAG;MACtB,IAAI,CAACE,cAAc,GAAGF,GAAG;MAEzB,IAAI,CAACC,WAAW,CAACE,OAAO,CAAEP,IAAc,IAAI;QAC1CQ,MAAM,CAACC,MAAM,CAACT,IAAI,EAAE;UAAEU,QAAQ,EAAE,CAAC;UAAEC,KAAK,EAAEX,IAAI,CAACY;QAAK,CAAE,CAAC;MACzD,CAAC,CAAC;MACF,IAAI,CAAClB,IAAI,CAACmB,MAAM,CAACV,SAAS,CAAEW,KAAU,IAAI;QACxC,IAAI,CAACC,SAAS,GAAGD,KAAK;MACxB,CAAC,CAAC;IACJ,CAAC,EACAE,KAAK,IAAI;MACR,IAAI,CAACpB,aAAa,CAACoB,KAAK,CAAC,GAAGA,KAAK,CAACC,IAAI,UAAUD,KAAK,CAACE,MAAM,EAAE,CAAC;IACjE,CAAC,CACF;EACH;CACD;AApCY3B,iBAAiB,eAL7BD,SAAS,CAAC;EACT6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACW9B,iBAAiB,CAoC7B;SApCYA,iBAAiB","names":["Component","ProductsComponent","constructor","data","cart","router","toastrService","ngOnInit","filter","addCart","item","category","getProducts","subscribe","res","productList","filterCategory","forEach","Object","assign","quantity","total","price","search","value","searchKey","error","name","status","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/asplap3259/Desktop/e-commerce-mean/frontend/src/app/products/products.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { AuthGuard } from \"../authguard/auth.guard\";\nimport { CartService } from \"../service/cart.service\";\nimport { DataService } from \"../service/data.service\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { ThisReceiver } from \"@angular/compiler\";\nimport { products } from \"datatype\";\n\n@Component({\n  selector: \"app-products\",\n  templateUrl: \"./products.component.html\",\n  styleUrls: [\"./products.component.css\"],\n})\nexport class ProductsComponent implements OnInit {\n  public productList: any;\n  item!: products;\n  searchKey: string = \"\";\n  public filterCategory: any;\n  page:number=1;\n  constructor(\n    private data: DataService,\n    private cart: CartService,\n    private router: Router,\n    private toastrService: ToastrService\n  ) {}\n  ngOnInit(): void {\n    this.filter(\"\");\n  }\n  addCart(item: products) {\n    this.cart.addCart(item);\n  }\n  filter(category: string) {\n    this.data.getProducts(category).subscribe(\n      (res) => {\n        this.productList = res;\n        this.filterCategory = res;\n\n        this.productList.forEach((item: products) => {\n          Object.assign(item, { quantity: 1, total: item.price });\n        });\n        this.cart.search.subscribe((value: any) => {\n          this.searchKey = value;\n        });\n      },\n      (error) => {\n        this.toastrService.error(`${error.name} error ${error.status}`);\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}